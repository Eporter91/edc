/*!CK:676190062!*//*1434496707,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Djx\/P"]); }

__d("PopoverAsyncMenu.react",["CSS","InlineBlock.react","MenuTheme","Popover","PopoverLoadingMenu","PopoverAsyncMenu","React","ReactElement","PopoverMenu.react","URI","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=m,t=s.PropTypes,u=m.createClass({displayName:"ReactPopoverAsyncMenu",statics:{getButtonSize:o.getButtonSize},propTypes:{alignh:t.oneOf(['left','center','right']),alignv:t.oneOf(['baseline','bottom','middle','top']),position:t.oneOf(['above','below','left','right']),layerBehaviors:t.array,disabled:t.bool,open:t.bool,endpoint:t.oneOfType([t.string.isRequired,t.instanceOf(p).isRequired]),endpointData:t.object},getDefaultProps:function(){return {alignv:'middle'};},componentDidMount:function(){var v=m.findDOMNode(this.refs.root),w=v.firstChild;g.addClass(w,"_p");this._popover=new j(v,w,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled});this._popoverMenu=new l(this._popover,w,this._createLoadingMenu(),this.props.endpoint,this.props.behaviors,this.props.endpointData);},componentDidUpdate:function(v){if(this.props.alignh!==v.alignh)this._popoverMenu.getPopover().getLayer().setAlignment(this.props.alignh);if(this.props.disabled!==v.disabled)if(this.props.disabled){this._popoverMenu.disable();}else this._popoverMenu.enable();},render:function(){var v=m.Children.map(this.props.children,function(w,x){if(x===0){return n.cloneAndReplaceProps(w,Object.assign({},w.props,{className:r(w.props.className,"_p")}));}else return w;});return (m.createElement(h,m.__spread({},this.props,{className:r(this.props.className,"uiPopover"),ref:"root",disabled:null}),v));},componentWillUnmount:function(){this.hidePopover();},_createLoadingMenu:function(){return new k({theme:i});},getPopoverMenu:function(){return this._popoverMenu;},getMenu:function(){return this._popoverMenu.getMenu();},showPopover:function(v){this._popover.showLayer();if(v){var w=this._popoverMenu.getMenu();w.blur();w.focusAnItem(v);}},hidePopover:function(){var v=this._popover;if(v&&v.isShown())v.hideLayer();},getFocusedItem:function(){var v=this._popoverMenu.getMenu();return v.getFocusedItem();}});e.exports=u;},null);
__d("UFIShareNowMenu.react",["ContextualDialogArrow","ContextualLayerAsyncRelative","ContextualLayerAutoFlip","PopoverAsyncMenu.react","React","ShareNowController"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=k,n=m.PropTypes,o=k.createClass({displayName:"UFIShareNowMenu",propTypes:{focusOnInit:n.bool},componentDidMount:function(){l.initMenu(this.refs.menu.getPopoverMenu());},render:function(){return (k.createElement(j,k.__spread({alignv:"baseline"},this.props,{layerBehaviors:[g,h,i],ref:"menu"}),k.cloneElement(k.Children.only(this.props.children),{ref:this._onMount})));},_onMount:function(p){if(this.props.focusOnInit&&p)k.findDOMNode(p).focus();}});e.exports=o;},null);